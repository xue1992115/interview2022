<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 1、WeakMap结构与Map结构类似，也是用于生成键值对的集合。
        // WeakMap与Map的区别有两点
        // (1)首先，WeakMap只接受对象（null除外）和 Symbol 值作为键名，不接受其他类型的值作为键名。
        const map = new WeakMap();
       try {
         map.set(1, 2) // 报错
         map.set(null, 2) // 报错
        } catch (error) {
            console.log(error);
        }
        map.set(Symbol(), 2) // 不报错
        // (2)其次，WeakMap的键名所指向的对象，不计入垃圾回收机制。
        // 也就是说 因此，只要所引用的对象的其他引用都被清除，垃圾回收机制就会释放该对象所占用的内存。
        // 也就是说，一旦不再需要，WeakMap 里面的键名对象和所对应的键值对会自动消失，不用手动删除引用。
        // 这个WeakSet是一样的
        // 2、WeakMap与Map在API上的区别
        // (1)没有遍历操作
        // (2)没有size属性
    </script>
</body>
</html>