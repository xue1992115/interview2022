<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #div1 {
        width: 350px;
        height: 70px;
        padding: 10px;
        border: 1px solid #aaaaaa;
      }
    </style>
  </head>
  <body>
    <!-- 1、设置元素可以拖拽 draggable-->
    <!-- 2、ondragstart 属性调用了一个函数，drag(event)，它规定了被拖动的数据。dataTransfer.setData() 方法设置被拖数据的数据类型和值： -->
    <!-- 3、ondragover 事件规定在何处放置被拖动的数据。 -->
    <!-- 4、进行放置 当放置被拖数据时，会发生 drop 事件。 -->
    <div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
    <img
      id="drag1"
      src="./images/01.jpeg"
      draggable="true"
      ondragstart="drag(event)"
      width="336"
      height="200"
    />
    <!-- 5、相关的API -->
    <!-- 
      DataTransfer对象，一般使用就是event.dateTransfer.setData('datatype', 'key')
      draggable: 可拖拽属性 true
      ondragstart() 当拖拽元素开始被拖拽的时候触发的事件，此事件作用在被拖曳元素上
      ondragend() 当拖拽元结束被拖拽的时候触发的事件，此事件作用在被拖曳元素上
      ondragenter() 当拖拽元素进入目标元素的时候触发的，作用于目标元素
      ondragover()拖拽元素在目标元素上移动的时候触发的事件，此事件作用在目标元素上
      ondrop 事件：被拖拽的元素在目标元素上同时鼠标放开触发的事件，此事件作用在目标元素上
      Event.preventDefault() 方法：阻止默认的些事件方法等执行。在ondragover中一定要执行preventDefault()，否则ondrop事件不会被触发。另外，如果是从其他应用软件或是文件中拖东西进来，尤其是图片的时候，默认的动作是显示这个图片或是相关信息，并不是真的执行drop。此时需要用用document的ondragover事件把它直接干掉。
      Event.effectAllowed 属性：就是拖拽的效果。
     -->
  </body>
  <script>
    function drag(ev) {
      ev.dataTransfer.setData("Text", ev.target.id);
    }
    function drop(ev) {
      ev.preventDefault();
      var data = ev.dataTransfer.getData("Text");
      ev.target.appendChild(document.getElementById(data));
    }
    // 默认地，无法将数据/元素放置到其他元素中。如果需要设置允许放置，我们必须阻止对元素的默认处理方式。
    function allowDrop(ev) {
      ev.preventDefault();
    }
  </script>
</html>
